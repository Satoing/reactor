使用类封装server和client